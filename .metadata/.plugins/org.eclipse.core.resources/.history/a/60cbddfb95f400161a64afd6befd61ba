package Interface;

import java.awt.Frame;

import javax.swing.JFrame;
import javax.swing.JPanel;

public class Fenetre extends JFrame {

	//Instanciation d'un objet JPanel
	private Panneau pan = new Panneau();    

	public Fenetre (){
		//Définit un titre pour notre fenêtre
		this.setTitle("PigeonLand");
		//Définit sa taille : 400 pixels de large et 100 pixels de haut
		this.setSize(100,150);
		//Nous demandons maintenant à notre objet de se positionner au centre
		this.setLocationRelativeTo(null);
		//Termine le processus lorsqu'on clique sur la croix rouge
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);


		//On prévient notre JFrame que notre JPanel sera son content pane
		this.setContentPane(pan);  

		this.setVisible(true);
		go();
	}

	private void go(){
		for(;;){
			int x = pan.getPosX(), y = pan.getPosY();
			x++;
			y++;
			pan.setPosX(x);
			pan.setPosY(y);
			pan.repaint();  
			try {
				Thread.sleep(10);
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
			//Si nos coordonnées arrivent au bord de notre composant
			//On réinitialise
			if(x == pan.getWidth() || y == pan.getHeight()){
				pan.setPosX(-50);
				pan.setPosY(-50);
			}
		}
	}       

}
